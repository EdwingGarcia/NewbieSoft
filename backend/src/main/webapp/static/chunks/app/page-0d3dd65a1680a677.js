(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{63:(e,a,s)=>{"use strict";var t=s(7260);s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})},1123:(e,a,s)=>{Promise.resolve().then(s.bind(s,7322))},1733:(e,a,s)=>{"use strict";s.d(a,{JR:()=>t,ff:()=>r});let t="";async function r(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e.startsWith("/")?e:"/".concat(e),r="".concat(t).concat(s),l=await fetch(r,{...a,headers:{"Content-Type":"application/json",...a.headers}});if(!l.ok){let e=await l.text();throw Error("Error ".concat(l.status,": ").concat(e||l.statusText))}try{return await l.json()}catch(e){return null}}},7162:()=>{},7322:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>n});var t=s(5155),r=s(2115),l=s(63);s(7162);var o=s(1733);function n(){let[e,a]=(0,r.useState)(""),[s,n]=(0,r.useState)(""),[i,c]=(0,r.useState)(""),[d,x]=(0,r.useState)(!1),u=(0,l.useRouter)(),m=async()=>{x(!0),c("Verificando credenciales...");try{let a=await fetch("".concat(o.JR,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({correo:e,password:s})});if(!a.ok)throw Error("Credenciales incorrectas");let t=await a.json();console.log("✅ Login exitoso:",t),localStorage.setItem("token",t.token),localStorage.setItem("rol",t.rol),localStorage.setItem("cedula",t.cedula),document.cookie="token=".concat(t.token,"; path=/"),document.cookie="rol=".concat(t.rol,"; path=/"),document.cookie="cedula=".concat(t.cedula,"; path=/"),c("Accediendo al panel..."),setTimeout(()=>{"ROLE_ADMIN"===t.rol?u.push("/dashboard"):"ROLE_TECNICO"===t.rol?u.push("/dashboard-tecnico"):u.push("/")},900)}catch(e){console.error("❌ Error en login:",e),c("Usuario o contrase\xf1a incorrectos")}};return(0,t.jsx)("div",{className:"login-container",children:(0,t.jsxs)("div",{className:"w-full max-w-5xl grid gap-8 md:grid-cols-[1.2fr_1fr] items-center px-6",children:[(0,t.jsxs)("div",{className:"hidden md:flex flex-col gap-6 text-slate-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.2em] text-slate-300",children:[(0,t.jsx)("span",{className:"inline-block h-[1px] w-6 bg-slate-500"}),"Newbie Data Control"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("h1",{className:"text-3xl font-semibold text-slate-50 leading-snug",children:["Sistema interno de",(0,t.jsx)("br",{}),"gesti\xf3n de soporte t\xe9cnico"]}),(0,t.jsx)("p",{className:"text-sm text-slate-300 max-w-md leading-relaxed",children:"Optimiza y centraliza todo el flujo t\xe9cnico: desde el ingreso del equipo hasta la entrega final. Dise\xf1ado para brindar control y eficiencia."})]}),(0,t.jsxs)("div",{className:"mt-2 rounded-md border border-slate-700 bg-slate-900/50 px-4 py-4 text-sm text-slate-200 leading-relaxed shadow-lg",children:[(0,t.jsxs)("p",{children:["Bienvenido al entorno administrativo de ",(0,t.jsx)("strong",{children:"NewbieCore"}),". Este acceso es exclusivo para personal autorizado."]}),(0,t.jsx)("p",{className:"mt-2 text-slate-400 text-[12px]",children:"Todas las acciones realizadas quedan registradas para auditor\xedas internas."})]}),(0,t.jsxs)("div",{className:"mt-1 flex flex-col gap-2 text-[11px] text-slate-300",children:[(0,t.jsx)("span",{className:"uppercase tracking-[0.2em] text-slate-400",children:"Flujo general"}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)("span",{className:"px-2 py-1 border border-slate-700 bg-slate-950/40 rounded-sm text-[11px]",children:"Ingreso"}),(0,t.jsx)("span",{children:"→"}),(0,t.jsx)("span",{className:"px-2 py-1 border border-slate-700 bg-slate-950/40 rounded-sm text-[11px]",children:"Diagn\xf3stico"}),(0,t.jsx)("span",{children:"→"}),(0,t.jsx)("span",{className:"px-2 py-1 border border-slate-700 bg-slate-950/40 rounded-sm text-[11px]",children:"Reparaci\xf3n"}),(0,t.jsx)("span",{children:"→"}),(0,t.jsx)("span",{className:"px-2 py-1 border border-slate-700 bg-slate-950/40 rounded-sm text-[11px]",children:"Cierre / Entrega"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/80 border border-slate-800 shadow-2xl backdrop-blur-sm px-6 py-6 rounded-md",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-slate-50",children:"Iniciar sesi\xf3n"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-slate-400",children:"Autenticaci\xf3n requerida para acceder al panel."})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),m()},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-slate-200",children:"Correo electr\xf3nico *"}),(0,t.jsx)("input",{type:"email",value:e,onChange:e=>a(e.target.value),placeholder:"admin@newbie.com",required:!0,className:"w-full rounded border border-slate-700 bg-slate-950/60 px-3 py-2 text-sm text-slate-50 outline-none focus:border-indigo-400 focus:ring-1 focus:ring-indigo-400"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("label",{className:"text-xs font-medium text-slate-200",children:"Contrase\xf1a *"}),(0,t.jsx)("input",{type:"password",value:s,onChange:e=>n(e.target.value),placeholder:"••••••••",required:!0,className:"w-full rounded border border-slate-700 bg-slate-950/60 px-3 py-2 text-sm text-slate-50 outline-none focus:border-indigo-400 focus:ring-1 focus:ring-indigo-400"})]}),(0,t.jsx)("button",{type:"submit",disabled:d,className:"mt-2 w-full rounded bg-indigo-500 px-4 py-2 text-sm font-semibold text-white shadow-md transition hover:bg-indigo-400 disabled:cursor-not-allowed disabled:opacity-70",children:d?"Verificando...":"Ingresar"}),i&&(0,t.jsx)("p",{className:"mt-3 text-center text-xs font-medium text-slate-200",children:i})]}),(0,t.jsx)("div",{className:"mt-4 border-t border-slate-800 pt-3",children:(0,t.jsx)("p",{className:"text-[11px] text-slate-500",children:"NewbieCore \xa9 Sistema interno corporativo."})})]})]})})}}},e=>{e.O(0,[329,441,255,358],()=>e(e.s=1123)),_N_E=e.O()}]);